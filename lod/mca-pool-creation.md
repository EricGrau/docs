---
title: "title"
description: "description"
isPublished: false
---

# MCA 

## Overview
The CSS logic in Skillable Studio has been updated to use the MCA billing API. All new CSS pools need to be created in the MCA tenant, however, this process is not as simple as it once was when using the EA. The MCA Billing API requires working with a Billing Account as the top level management group for subscriptions, and you can have only one Billing Account per MCA tenant. This prevents logically separating QA/UAT/Prod/Customer subscription pools easily like the EA used to be able to do.
 
It should first be seriously determined if a new tenant is required when a request for a new pool comes in, as each net new tenant requires a new MCA agreement to be generated by our Azure CSM, signed with the master login unique to that tenant, and configured in LOD. There is NO centralized billing management interface for the MCA to aggregate billing and costs between all MCAs, so management of each starts to become unscalable as we add tenants. It is best to utilize the existing tenants we have before creating any new ones.
 
## MCA generation
1. If a new MCA tenant is required, create the new tenant, using a new local login as the global admin for that tenant. 
1. Reach out to your Azure CSM to generate a new MCA for the tenant that was created and the new account username that was created. 
    >[!note] If possible, this request should be submitted in advance. This may take several days to receive a response from your CSM. 

1. When the MC is returned for signing, ensure you are signed in with the account that was created previously. The MCA will be bound to that account, and only 1 MCA is allowed per Azure Active Directory user globally.

## Create a Cloud Slice Application 

An Azure enterprise application needs to be created for Cloud Slice. The application will be used for management of subscriptions by Skillable Studio. 

1. In the Azure portal, navigate to Azure Active Directory. 
1. Select **Enterprise Applications**.
1. Select **+ New Application**.
1. Select **Create your own application**.
1. Enter a name for the application. 
1. Select **Create**.
1. Navigate to **App Registrations** in Azure AD and select the cloud-slice-app you've created.
1. Select **Certificates & Secrets** and generate a client secret for Skillable Studio to use, taking note of the value of the secret you generate. Store this information in a secure location. 
 
## MCA CSS Pool creation

Configuration of the MCA must be completed in the Azure portal, and a subscription pool needs be created in Skillable Studio. 

### Azure Configuration 

1. Sign into the MCA tenant with the local global admin account you created, and navigate to the "Cost Management + Billing" Section.

1. In the Azure portal, navigate to **Cost Management + Billing**. 
1. Select **Billing Scopes**.
1. Select the **Billing Account** for the MCA you've just created.
 
    ![Select Billing Account](images/select-billing-account.png)
 
1. Navigate to **Access Control (IAM)** and add the cloud slice application created in previous steps, as well as any users that you need to have **management access to the billing scope**.

    ![Navigate to Access Control](images/navigate-to-access-control.png)
 
### Subscription Pool Creation

1. From the Skillable Studio admin page, select **Subscription Pools**. 
1. In the upper-right of the page, select **Create Cloud Subscription Pool**.
1. Complete each field on each tab in the following order. 
    1. On the **Authentication** tab, enter the **Tenant Name**, **Application ID**, and **application secret**. 
    1. On the **Basic Information** tab, select **Dedicated** as the **Subscription Mode**. 
    1. On the **Basic Information** tab, select **Choose** next to **Billing Account**, then select the billing account and click **OK**. 
    1. Complete the remaining fields on the **Basic Information** tab. 
        - **Cloud Platform**
\       - **Name**: enter a name for the subscription pool. 
        - **Description**: enter a description for the subscription pool. 
        - **Organization**: select the organization that will own and use the subscription pool. 
        - **Custom subscription unavailable message**: enter a custom message that will be displayed to users if no subscriptions are available.
        - **Enabled**: select this box to enable the subscription pool for use. 
        - **Enable Health Checks**: select this enable Health Checks across all subscriptions in this pool. Skillable Studio will periodically check the subscription for configuration errors and other potential problems. 
        - **Send Health Check email**: select this send an email with health check errors and warnings to the email address in the _Owner Email_ field. 
        - **Owner E-mail**: enter the email address of the owner of the subscription. This email will be used to receive health check error and warning information. 
        - **Health Check interval**: select the health check frequency. Health checks for each subscription will be completed at the specified interval. 
    1. On the **Automation Settings** tab, complete the following fields:
        - **Number of Subscriptions**: enter the number of subscriptions that should be provisioned ahead of time in the background and made available for lab launches. 
        - **Subscription Name Prefix**: when subscriptions are created, the name of the subscription or account will start with the text entered here. 
1. Select **Save**. 

Once the subscription pool is saved, provisioning of accounts will begin in Azure. This process may take some time for the accounts to be provisioned and ready for use. 

The details page of the subscription pool will show the status of all accounts that are provisioned or being provisioned. 

![](images/sub-pool-account-status.png)